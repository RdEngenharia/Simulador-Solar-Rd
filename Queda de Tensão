<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RD Engenharia | Queda de Tensão</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root { --primary: #0a7cff; --bg: #f2f6fa; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); padding: 20px; display: flex; justify-content: center; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 100%; max-width: 450px; }
        h2 { color: var(--primary); text-align: center; margin-top: 0; }
        label { display: block; margin-top: 15px; font-weight: bold; font-size: 14px; color: #555; }
        input, select { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        button { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        button:active { transform: scale(0.98); }
        .result-box { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .danger { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .back-btn { background: #6c757d; padding: 8px 15px; width: auto; font-size: 13px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="card">
        <a href="index.html" style="text-decoration: none;"><button class="back-btn"><i class="fas fa-arrow-left"></i> Voltar</button></a>
        <h2><i class="fas fa-bolt"></i> Queda de Tensão</h2>
        
        <label>Tipo de Sistema:</label>
        <select id="fases">
            <option value="2">Monofásico / Bifásico (2 fios)</option>
            <option value="1.732">Trifásico (3 fios)</option>
        </select>

        <label>Corrente do Circuito (A):</label>
        <input type="number" id="corrente" placeholder="Ex: 25" step="0.1">

        <label>Comprimento do Trecho (m):</label>
        <input type="number" id="distancia" placeholder="Ex: 30">

        <label>Seção do Condutor (mm²):</label>
        <select id="secao">
            <option value="1.5">1,5 mm²</option>
            <option value="2.5">2,5 mm²</option>
            <option value="4">4,0 mm²</option>
            <option value="6">6,0 mm²</option>
            <option value="10">10,0 mm²</option>
            <option value="16">16,0 mm²</option>
            <option value="25">25,0 mm²</option>
            <option value="35">35,0 mm²</option>
            <option value="50">50,0 mm²</option>
        </select>

        <label>Tensão Nominal (V):</label>
        <input type="number" id="tensao" value="220">

        <button onclick="calcularQueda()">CALCULAR QUEDA</button>

        <div id="resultado" class="result-box"></div>
    </div>

    <script>
        function calcularQueda() {
            const K = document.getElementById('fases').value;
            const I = parseFloat(document.getElementById('corrente').value);
            const L = parseFloat(document.getElementById('distancia').value);
            const S = parseFloat(document.getElementById('secao').value);
            const V = parseFloat(document.getElementById('tensao').value);
            const rho = 1 / 58; // Resistividade do cobre

            if (!I || !L || !V) {
                alert("Por favor, preencha todos os campos.");
                return;
            }

            // Fórmula: ΔU = (K * rho * L * I) / S
            const quedaVolts = (K * rho * L * I) / S;
            const quedaPercent = (quedaVolts / V) * 100;

            const resDiv = document.getElementById('resultado');
            resDiv.style.display = 'block';
            
            let statusClass = quedaPercent <= 4 ? 'success' : 'danger';
            let recomendacao = quedaPercent <= 4 ? 
                '<strong>OK!</strong> Dentro do limite de 4% (NBR 5410).' : 
                '<strong>ALERTA!</strong> Acima do limite de 4%. Aumente a seção do cabo.';

            resDiv.className = `result-box ${statusClass}`;
            resDiv.innerHTML = `
                Queda em Volts: <strong>${quedaVolts.toFixed(2)} V</strong><br>
                Percentual: <strong>${quedaPercent.toFixed(2)}%</strong><br><br>
                <small>${recomendacao}</small>
            `;
        }
    </script>
</body>
</html>
